# ğŸ™ï¸ ç®€å•TTSç”Ÿæˆå™¨

## å¿«é€Ÿä½¿ç”¨

### 1. å‡†å¤‡æ–‡æœ¬æ–‡ä»¶

ç¼–è¾‘ `gen/speech.txt`ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š

```
{"name": "f-a/happy", "seed": -1, "speed": 1} ä½ çš„æ–‡æœ¬å†…å®¹ã€‚

{"name": "f-b/sad", "seed": -1, "speed": 0.9} å¦ä¸€æ®µæ–‡æœ¬ã€‚

{"name": "f-a/angry", "seed": -1, "speed": 1.1} æ›´å¤šæ–‡æœ¬ã€‚
```

### 2. è¿è¡Œç”Ÿæˆ

```bash
python generate.py
```

å°±è¿™ä¹ˆç®€å•ï¼

## é…ç½®è¯´æ˜

æ¯æ®µæ–‡æœ¬å‰çš„JSONé…ç½®ï¼š

```json
{
  "name": "f-a/happy", // éŸ³è‰²è·¯å¾„ï¼ˆç›¸å¯¹äºvoices/ç›®å½•ï¼‰
  "seed": -1, // éšæœºç§å­ï¼ˆ-1è¡¨ç¤ºéšæœºï¼‰
  "speed": 1.0 // è¯­é€Ÿï¼ˆ1.0=æ­£å¸¸ï¼Œ<1æ…¢ï¼Œ>1å¿«ï¼‰
}
```

### å¯ç”¨çš„éŸ³è‰²

æ ¹æ®ä½ çš„ `voices/` ç›®å½•ï¼š

**f-a ç³»åˆ—ï¼š**

- `f-a/angry` - ç”Ÿæ°”
- `f-a/confused` - å›°æƒ‘
- `f-a/fear` - ææƒ§
- `f-a/happy` - å¼€å¿ƒ
- `f-a/sad` - æ‚²ä¼¤
- `f-a/tender` - æ¸©æŸ”

**f-b ç³»åˆ—ï¼š**

- `f-b/angry`
- `f-b/confused`
- `f-b/fear`
- `f-b/happy`
- `f-b/sad`
- `f-b/tender`

**f-c ç³»åˆ—ï¼š**

- `f-c/angry`
- `f-c/confused`
- `f-c/fear`
- `f-c/happy`
- `f-c/sad`
- `f-c/tender`

## ç¤ºä¾‹

### ç¤ºä¾‹ 1: ç®€å•å¯¹è¯

```
{"name": "f-a/happy", "seed": -1, "speed": 1} Hello, how are you today?

{"name": "f-b/happy", "seed": -1, "speed": 1} I'm doing great, thanks for asking!

{"name": "f-a/confused", "seed": -1, "speed": 1} Wait, what did you say?
```

### ç¤ºä¾‹ 2: æƒ…æ„Ÿå˜åŒ–

```
{"name": "f-a/happy", "seed": -1, "speed": 1} ä»Šå¤©å¤©æ°”çœŸå¥½ï¼

{"name": "f-a/sad", "seed": -1, "speed": 0.9} ä½†æ˜¯æˆ‘çš„å¿ƒæƒ…ä¸å¤ªå¥½ã€‚

{"name": "f-a/angry", "seed": -1, "speed": 1.1} å› ä¸ºæœ‰äººæƒ¹æˆ‘ç”Ÿæ°”äº†ï¼

{"name": "f-a/tender", "seed": -1, "speed": 0.95} ä¸è¿‡æ²¡å…³ç³»ï¼Œæˆ‘ä¼šå¥½èµ·æ¥çš„ã€‚
```

### ç¤ºä¾‹ 3: å¤šè§’è‰²å¯¹è¯

```
{"name": "f-a/happy", "seed": -1, "speed": 1} æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„èŠ‚ç›®ï¼

{"name": "f-b/happy", "seed": -1, "speed": 1} è°¢è°¢é‚€è¯·ï¼Œå¾ˆé«˜å…´æ¥åˆ°è¿™é‡Œã€‚

{"name": "f-c/confused", "seed": -1, "speed": 1} ç­‰ç­‰ï¼Œæˆ‘ä»¬è¦è®¨è®ºä»€ä¹ˆè¯é¢˜ï¼Ÿ

{"name": "f-a/happy", "seed": -1, "speed": 1} ä»Šå¤©æˆ‘ä»¬è¦èŠèŠäººå·¥æ™ºèƒ½ã€‚
```

## è¾“å‡º

ç”Ÿæˆçš„éŸ³é¢‘æ–‡ä»¶ä¿å­˜åœ¨ `gen/output/` ç›®å½•ï¼š

```
gen/output/
â”œâ”€â”€ segment_0000.wav
â”œâ”€â”€ segment_0001.wav
â”œâ”€â”€ segment_0002.wav
â””â”€â”€ ...
```

æ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªæ–‡æœ¬æ®µè½ã€‚

## å‚æ•°è°ƒæ•´

### è¯­é€Ÿ (speed)

- `0.8` - æ…¢é€Ÿï¼ˆé€‚åˆå­¦ä¹ ã€æœ—è¯»ï¼‰
- `1.0` - æ­£å¸¸é€Ÿåº¦
- `1.2` - å¿«é€Ÿï¼ˆé€‚åˆæ–°é—»ã€æ’­æŠ¥ï¼‰
- `1.5` - å¾ˆå¿«ï¼ˆé€‚åˆå¿«èŠ‚å¥å†…å®¹ï¼‰

### éšæœºç§å­ (seed)

- `-1` - æ¯æ¬¡ç”Ÿæˆéƒ½ä¸åŒï¼ˆæ¨èï¼‰
- `0, 1, 2, ...` - å›ºå®šç§å­ï¼Œæ¯æ¬¡ç”Ÿæˆç›¸åŒ

## æ–‡ä»¶ç»“æ„

```
.
â”œâ”€â”€ generate.py              # ç”Ÿæˆè„šæœ¬
â”œâ”€â”€ gen/
â”‚   â”œâ”€â”€ speech.txt          # ä½ çš„è¾“å…¥æ–‡æœ¬ï¼ˆç¼–è¾‘è¿™ä¸ªï¼‰
â”‚   â”œâ”€â”€ speech_example.txt  # ç¤ºä¾‹æ–‡æœ¬
â”‚   â””â”€â”€ output/             # ç”Ÿæˆçš„éŸ³é¢‘ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â””â”€â”€ voices/                 # éŸ³è‰²æ–‡ä»¶
    â”œâ”€â”€ f-a/
    â”‚   â”œâ”€â”€ happy.wav
    â”‚   â”œâ”€â”€ sad.wav
    â”‚   â””â”€â”€ ...
    â”œâ”€â”€ f-b/
    â””â”€â”€ f-c/
```

## å·¥ä½œæµç¨‹

1. **ç¼–è¾‘** `gen/speech.txt`
2. **è¿è¡Œ** `python generate.py`
3. **æŸ¥çœ‹** `gen/output/` ç›®å½•
4. **æ’­æ”¾** ç”Ÿæˆçš„éŸ³é¢‘æ–‡ä»¶

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„éŸ³è‰²ï¼Ÿ

A: å°†WAVæ–‡ä»¶æ”¾åˆ° `voices/` ç›®å½•ä¸‹ï¼Œç„¶ååœ¨æ–‡æœ¬ä¸­å¼•ç”¨ï¼š

```
{"name": "your-folder/your-voice", "seed": -1, "speed": 1} æ–‡æœ¬
```

### Q: å¯ä»¥æ··åˆä¸­è‹±æ–‡å—ï¼Ÿ

A: å¯ä»¥ï¼F5-TTSæ”¯æŒä¸­è‹±æ–‡æ··åˆã€‚

### Q: ç”Ÿæˆé€Ÿåº¦æ…¢æ€ä¹ˆåŠï¼Ÿ

A:

- ç¡®ä¿ä½¿ç”¨GPU
- å‡å°‘æ–‡æœ¬æ®µè½æ•°é‡
- è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œæ¯æ®µéœ€è¦å‡ ç§’

### Q: éŸ³è´¨ä¸å¥½æ€ä¹ˆåŠï¼Ÿ

A:

- ç¡®ä¿å‚è€ƒéŸ³é¢‘ï¼ˆvoices/ä¸‹çš„WAVæ–‡ä»¶ï¼‰è´¨é‡é«˜
- è°ƒæ•´speedå‚æ•°
- å°è¯•ä¸åŒçš„éŸ³è‰²

### Q: å¦‚ä½•åˆå¹¶æ‰€æœ‰éŸ³é¢‘ï¼Ÿ

A: ä½¿ç”¨FFmpegï¼š

```bash
cd gen/output
ls *.wav | sort | sed 's/^/file /' > filelist.txt
ffmpeg -f concat -safe 0 -i filelist.txt -c copy ../final.wav
```

## é«˜çº§ç”¨æ³•

### æ‰¹é‡ç”Ÿæˆ

åˆ›å»ºå¤šä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œç„¶åä¿®æ”¹ `generate.py`ï¼š

```python
generator.generate_from_file("gen/speech1.txt")
generator.generate_from_file("gen/speech2.txt")
```

### è‡ªå®šä¹‰è¾“å‡ºç›®å½•

```python
generator = SimpleGenerator(
    voices_dir="voices",
    output_dir="my_custom_output"
)
```

---

**å¼€å§‹åˆ›ä½œä½ çš„å¤šéŸ³è‰²TTSå†…å®¹å§ï¼** ğŸ‰
